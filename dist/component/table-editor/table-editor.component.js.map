{"version":3,"file":"table-editor.component.js","sourceRoot":"","sources":["../../../src/component/table-editor/table-editor.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAC;AAEhD,OAAO,EAAE,QAAQ,EAAE,MAAM,+BAA+B,CAAC;AACzD,OAAO,EAAE,YAAY,EAAE,MAAM,mBAAmB,CAAC;AAOjD,IAAa,oBAAoB;IAM/B,8BAAoB,MAAyC;QAAzC,WAAM,GAAN,MAAM,CAAmC;QAJ7D,WAAM,GAAQ,EAAE,CAAC,CAAC,SAAS;IAIsC,CAAC;IAHlE,2CAAY,GAAZ;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,EAA7B,CAA6B,CAAC,CAAC;IACxF,CAAC;IAED,uCAAQ,GAAR;QACE,iCAAiC;QACjC,wBAAwB;QACxB,qBAAqB;QACrB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3C,CAAC;IACH,CAAC;IAED,yCAAU,GAAV,UAAW,MAAM,EAAE,KAAK;QACtB,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,sBAAI,qCAAG;aAIP;YACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC9C,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACxD,CAAC;aATD,UAAQ,CAAM;YACZ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,CAAC;;;OAAA;IAOD,iCAAE,GAAF;QACE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IACD,qCAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IACH,2BAAC;AAAD,CAAC,AAtCD,IAsCC;AAtCY,oBAAoB;IALhC,SAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,UAAA;KAET,CAAC;qCAO4B,WAAW;GAN5B,oBAAoB,CAsChC;SAtCY,oBAAoB","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { MdDialogRef } from '@angular/material';\r\nimport { Data } from '../table/table.component'\r\nimport { template } from './table-editor.component.html';\r\nimport { objectAssign } from '@ts-webapp/common';\r\n\r\n@Component({\r\n  selector: 'app-table-editor',\r\n  template,\r\n  // styleUrls: ['./table-editor.component.scss']\r\n})\r\nexport class TableEditorComponent implements OnInit {\r\n  data: Data; // passed\r\n  edited: any = {}; // edited\r\n  cleanColumns() {\r\n    this.data.columns = this.data.columns.filter(column => !(column.isid || column.auto));\r\n  }\r\n  constructor(private dialog: MdDialogRef<TableEditorComponent>) { }\r\n  ngOnInit() {\r\n    // this.nav.title('TableEditor');\r\n    // this.nav.home(false);\r\n    // this.nav.menu([]);\r\n    if (this.data) {\r\n      console.log(this.data);\r\n      this.cleanColumns();\r\n      objectAssign(this.edited, this.data.row);\r\n    }\r\n  }\r\n\r\n  dateChange(column, event) {\r\n    console.log(column, event);\r\n  }\r\n\r\n  set dob(v: any) {\r\n    v = v.split('-');\r\n    this.edited.dob.setFullYear(v[0], v[1] - 1, v[2]);\r\n  }\r\n  get dob() {\r\n    if (!(this.edited.dob instanceof Date)) {\r\n      this.edited.dob = new Date(this.edited.dob);\r\n    }\r\n    return this.edited.dob.toISOString().substring(0, 10);\r\n  }\r\n  ok() {\r\n    this.dialog.close(this.edited);\r\n  }\r\n  cancel() {\r\n    this.dialog.close(this.data.row);\r\n  }\r\n}\r\n"]}