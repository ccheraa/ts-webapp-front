{"version":3,"file":"app.component.js","sourceRoot":"","sources":["../../../src/component/app/app.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Inject, HostListener, ViewChild } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\n\r\nimport { join } from 'path';\r\n\r\nimport { MenuItemClass } from '@ts-webapp/common';\r\nimport { MenuService, LoaderService, UserService, DialogService, NavigatorService, AppService } from '../../service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  template: `<div class=\"app\">\r\n  <div class=\"sidebar main\" always [class.wide]=\"mainPane\">\r\n    <div class=\"sidebar-overlay\" (click)=\"mainPane=false\"></div>\r\n    <span class=\"title\">TS-APP</span>\r\n    <button md-icon-button menu (click)=\"mainPane = !mainPane\" [mdTooltip]=\"mainPane ? 'collapse' : 'expand'\" mdTooltipPosition=\"after\">\r\n      <md-icon>menu</md-icon>\r\n      <md-icon wide>chevron_{{rtl ? 'right' : 'left'}}</md-icon>\r\n    </button>\r\n\r\n    <button md-icon-button *ngFor=\"let item of menu\" (click)=\"goto(item.id)\" [mdTooltip]=\"item.text\" mdTooltipPosition=\"after\"><md-icon>{{item.icon}}</md-icon></button>\r\n    <button md-button *ngFor=\"let item of menu\" (click)=\"goto(item.id)\">\r\n      <md-icon>{{item.icon}}</md-icon>\r\n      <span> {{item.text}}</span>\r\n    </button>\r\n\r\n    <div class=\"fill\"></div>\r\n\r\n    <button md-icon-button mdTooltip=\"Settings\" mdTooltipPosition=\"after\"><md-icon>settings</md-icon></button>\r\n    <button md-button>\r\n      <md-icon>settings</md-icon>\r\n      <span> Settings</span>\r\n    </button>\r\n    \r\n    <button md-icon-button mdTooltip=\"About\" mdTooltipPosition=\"after\"><md-icon>info</md-icon></button>\r\n    <button md-button>\r\n      <md-icon>info</md-icon>\r\n      <span> About</span>\r\n    </button>\r\n\r\n  </div>\r\n  <div class=\"body\">\r\n    <md-toolbar [class.shaded]=\"shaded\">\r\n      <button md-icon-button back mdTooltip=\"Home\" [disabled]=\"isHome ? true : null\" (click)=\"back()\"><md-icon *ngIf=\"!isHome\">arrow_{{rtl ? 'forward' : 'back'}}</md-icon></button>\r\n      <span> {{title}}</span>\r\n      <span fl></span>\r\n      <button md-icon-button avatar mdTooltip=\"About\" (click)=\"toggleSidePane()\">\r\n        <img *ngIf=\"user\" [src]=\"'/res/img/user/' + user.username + '.jpg'\" alt=\"\">\r\n        <md-icon *ngIf=\"!user\">account_circle</md-icon>\r\n      </button>\r\n      <button md-icon-button mdTooltip=\"More...\" *ngIf=\"vertMenu.length > 0\" [mdMenuTriggerFor]=\"moreMenu\"><md-icon>more_vert</md-icon></button>\r\n      <md-menu #moreMenu=\"mdMenu\">\r\n        <button md-menu-item *ngFor=\"let item of vertMenu\" (click)=\"item.action && item.action()\">\r\n          <md-icon *ngIf=\"!!item.icon\">{{item.icon}}</md-icon>\r\n          <span> {{item.text}}</span>\r\n        </button>\r\n      </md-menu>\r\n      <md-progress-bar color=\"primary\" [hidden]=\"!loading\" mode=\"query\"></md-progress-bar>\r\n    </md-toolbar>\r\n    <div #body class=\"body-content\">\r\n      <router-outlet></router-outlet><br>\r\n    </div>\r\n  </div>\r\n  <div class=\"sidebar side\" [class.wide]=\"sidePane\">\r\n    <div class=\"sidebar-overlay\" (click)=\"sidePane=false\"></div>\r\n    <app-side></app-side>\r\n  </div>\r\n</div>\r\n`,\r\n  styles: []\r\n})\r\nexport class AppComponent implements OnInit {\r\n  dark = false;\r\n  rtl = false;\r\n  isHome = false;\r\n  mainPane = false;\r\n  sidePane = false;\r\n  user = false;\r\n  shaded = false;\r\n  loading = false;\r\n  vertMenu: any[] = [];\r\n  title = 'TS-APP';\r\n  settings = <MenuItemClass[]>[\r\n    { text: 'Clients', icon: 'group', id: 'contacts' },\r\n    { text: 'New client', icon: 'group_add', id: 'contact'},\r\n    { text: '-'},\r\n    { text: 'Courses', icon: 'note', id: 'courses' },\r\n    { text: 'New course', icon: 'note_add', id: 'course'},\r\n    { text: '-'},\r\n    // { text: 'Bills', icon: 'assignment', id: 'bills' },\r\n    // { text: 'New bill', icon: 'add', id: 'bill'},\r\n    // { text: '-'},\r\n    { text: 'Scans', icon: 'scanner', id: 'scans' },\r\n  ];\r\n  menu: MenuItemClass[] = [];\r\n  constructor(@Inject(DOCUMENT) private document: any, private menuService: MenuService, private userService: UserService, private dialogService: DialogService, private loaderService: LoaderService, private navigator: NavigatorService, private app: AppService) {}\r\n  @ViewChild('body') body: any;\r\n  ngOnInit() {\r\n    this.loaderService.check().subscribe(loading => this.loading = loading);\r\n    this.navigator.title().subscribe(title => this.title = title);\r\n    this.navigator.home().subscribe(home => this.isHome = home);\r\n    this.navigator.menu().subscribe(menu => console.log(this.vertMenu = menu));\r\n    this.body.nativeElement.addEventListener('scroll', this.onScroll.bind(this));\r\n    this.menuService.getItems().subscribe(items => {\r\n      this.menu = items;\r\n    });\r\n    this.userService.check(true).subscribe(response => this.user = response.user);\r\n    this.app.checkMainPane().subscribe(mainPane => this.mainPane = mainPane);\r\n    this.app.checkSidePane().subscribe(sidePane => this.sidePane = sidePane);\r\n    this.app.checkDark().subscribe(dark => {\r\n      this.dark = dark;\r\n      this.setDark();\r\n    });\r\n    this.setDark();\r\n    this.app.checkRTL().subscribe(rtl => {\r\n      this.rtl = rtl;\r\n      this.setRtl();\r\n    });\r\n    this.app.setMainPane(this.mainPane);\r\n    this.app.setSidePane(this.sidePane);\r\n    this.app.setDark(this.dark);\r\n    this.app.setRTL(this.rtl);\r\n    // this.msgService.confirm('Yo!');\r\n  }\r\n  toggleMainPane() {\r\n    this.app.toggleMainPane();\r\n  }\r\n  toggleSidePane() {\r\n    this.app.toggleSidePane();\r\n  }\r\n  toggleDark() {\r\n    this.app.toggleDark();\r\n  }\r\n  toggleRTL() {\r\n    this.app.toggleRTL();\r\n  }\r\n  onScroll() {\r\n    // console.log(this);\r\n    if (this.body.nativeElement.scrollTop > 14 !== this.shaded) {\r\n      this.shaded = !this.shaded;\r\n    }\r\n  }\r\n  setDark() {\r\n    if (this.dark) {\r\n      document.body.classList.add('theme-dark');\r\n    } else {\r\n      document.body.classList.remove('theme-dark');\r\n    }\r\n  }\r\n  setRtl() {\r\n    document.body.style.direction = this.rtl ? 'rtl' : 'ltr';\r\n    if (this.rtl) {\r\n      document.body.classList.add('rtl');\r\n    } else {\r\n      document.body.classList.remove('rtl');\r\n    }\r\n  }\r\n  goto(url) {\r\n    this.navigator.goto(url);\r\n  }\r\n  back() {\r\n    this.navigator.back();\r\n  }\r\n  logout() {\r\n    // this.msgService.confirm('Log out', 'Are you sure you want to log out?').subscribe(ok => ok && this.logService.logout());\r\n  }\r\n  test() {\r\n    this.dialogService.confirm('Yo!', 'Yoooooooooooooooooo', ['Grant', 'Deny']);\r\n  }\r\n}\r\n"]}