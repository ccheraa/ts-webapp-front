{"version":3,"file":"table.component.js","sourceRoot":"","sources":["../../../src/component/table/table.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { ComponentType } from '@angular/material';\r\nimport { NavigatorService, DialogService } from '../../service';\r\nimport { animFade, animFadeProperty } from '../../class';\r\nimport { TableEditorComponent } from '../table-editor/table-editor.component';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { template } from './table.component.html';\r\nimport { ModelClient } from '../../db';\r\nimport { objectAssign } from '@ts-webapp/common';\r\n\r\nexport type Column = {\r\n  isid?: boolean,\r\n  name?: string,\r\n  text?: string,\r\n  type?: string,\r\n  main?: boolean,\r\n  check?: boolean,\r\n  sort?: boolean,\r\n  center?: boolean,\r\n  centerData?: boolean,\r\n  placeholder?: string,\r\n  read?: (item: any) => any;\r\n  auto?: boolean,\r\n  editOnClick?: boolean;\r\n\r\n  yesno?: [ string, string ],\r\n  icons?: [ string, string ],\r\n};\r\n\r\nexport type Data = {\r\n  row: any,\r\n  columns: Column[]\r\n};\r\n\r\n@Component({\r\n  template,\r\n  selector: 'md-table',\r\n  animations: [ animFade('fade'), animFadeProperty('search', 'true', 'false') ],\r\n  // styleUrls: ['./table.component.scss']\r\n})\r\nexport class TableComponent implements OnInit {\r\n  @Output() selectionChange: EventEmitter<number> = new EventEmitter<number>();\r\n  @Input() data: any[] = [];\r\n  @Input() set selection(value) {}\r\n  @Input() public config: {\r\n    table: string,\r\n    checkbox?: boolean,\r\n    createID?: (item: any) => Observable<any>|Boolean,\r\n    edit?: ComponentType<any>,\r\n    main?: Column;\r\n    columns: Column[]\r\n  };\r\n  defaultEdit = TableEditorComponent;\r\n  pagesOption = [10, 20, 50, 100];\r\n  limit = 20;\r\n  pager = {\r\n    limit: this.limit,\r\n    pages: 0,\r\n    current: 0,\r\n    count: 0,\r\n    pagesCount: 0,\r\n    goto: function(page: number): boolean {\r\n      this.firstElement = this.current * this.limit + 1;\r\n      this.lastElement = (this.current + 1) * this.limit;\r\n      if (this.firstElement > this.count) {\r\n        this.firstElement = this.count;\r\n      }\r\n      if (this.lastElement > this.count) {\r\n        this.lastElement = this.count;\r\n      }\r\n      if ((page >= 0) && (page < this.pagesCount)) {\r\n        this.current = page;\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    setCount: function(count: number) {\r\n      this.count = count;\r\n      this.pagesCount = Math.ceil(count / this.limit);\r\n      if (this.current > this.pagesCount - 1) {\r\n        this.current = this.pagesCount - 1;\r\n        if (this.current < 0) {\r\n          this.current = 0;\r\n        }\r\n      }\r\n      this.goto(this.current);\r\n    },\r\n    setLimit: function(limit: number) {\r\n      if (limit !== this.limit) {\r\n        this.limit = limit;\r\n        this.setCount(this.count);\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    next: function(): boolean {\r\n      return this.goto(this.current + 1);\r\n    },\r\n    prev: function(): boolean {\r\n      return this.goto(this.current - 1);\r\n    }\r\n  };\r\n\r\n  items: any[] = [];\r\n  sortField: any;\r\n  sortInverse = true;\r\n  allSelected = false;\r\n  selectedCount = 0;\r\n  selected: any = null;\r\n\r\n  shaded = false;\r\n  scrollValue = 0;\r\n\r\n  showSearch = false;\r\n  searchValue: any;\r\n\r\n  keypress: Subject<any>;\r\n\r\n  @ViewChild('tableBody') tableBody: any;\r\n  constructor(private nav: NavigatorService, private dialog: DialogService) { }\r\n  ngOnInit() {\r\n    this.tableBody.nativeElement.addEventListener('scroll', this.onScroll.bind(this));\r\n    this.keypress = new Subject<any>();\r\n    this.keypress.debounceTime(1000)\r\n      // .map(val => console.info(val) && val)\r\n      // .map(buffer => buffer.length)\r\n      // .filter(count => count > 0)\r\n      .subscribe(res => {\r\n        this.refresh();\r\n      });\r\n    this.config.columns.forEach(column => {\r\n      if (column.read) {\r\n        column.auto = true;\r\n      } else {\r\n        column.auto = false;\r\n        column.read = (item) => item[column.name];\r\n      }\r\n    });\r\n    if (!this.config.main) {\r\n      let mains = this.config.columns.filter(column => column.main);\r\n      this.config.main = mains.length ? mains[0] : this.config.columns[0];\r\n    }\r\n    this.refresh();\r\n  }\r\n  onScroll() {\r\n    if (this.tableBody.nativeElement.scrollTop === this.scrollValue) {\r\n      return;\r\n    }\r\n    this.scrollValue = this.tableBody.nativeElement.scrollTop;\r\n    // console.log(this.scrollValue);\r\n    if (this.tableBody.nativeElement.scrollTop > 14 !== this.shaded) {\r\n      this.shaded = !this.shaded;\r\n    }\r\n  }\r\n\r\n  refresh(res?) {\r\n    // res && console.log(res.action);\r\n    // let config: any = {\r\n    //   limit: this.pager.limit,\r\n    //   skip: this.pager.current * this.pager.limit\r\n    // };\r\n    // if (this.sortField) {\r\n    //   config.sort = (this.sortInverse ? '-' : '') + (this.sortField.sort === true ? this.sortField.name : this.sortField.sort);\r\n    // }\r\n    let skip = this.pager.current * this.pager.limit;\r\n    let limit = skip + this.pager.limit;\r\n    let data = this.data;\r\n    // console.log('refreshing...', this.items.length);\r\n    if (this.searchValue) {\r\n      // console.log('filtering...', this.items.length);\r\n      data = data.filter(item => item[this.config.main.name].indexOf(this.searchValue) > -1);\r\n      // console.log('filtered', this.items.length);\r\n    }\r\n    this.items = data.slice(skip, limit) || [];\r\n    // this.items.forEach(item => item.new_price = item.price);\r\n    // this.edit(); ///\r\n    // this.edit(this.items[0]); ///\r\n    this.selectedCount = this.items.filter(item => item.selected).length;\r\n    this.allSelected = !!this.items.length && this.selectedCount === this.items.length;\r\n    this.pager.setCount(data.length);\r\n  }\r\n  next() {\r\n    if (this.pager.next()) {\r\n      this.refresh();\r\n    }\r\n  }\r\n  prev() {\r\n    if (this.pager.prev()) {\r\n      this.refresh();\r\n    }\r\n  }\r\n  limitChange() {\r\n    if (this.pager.setLimit(this.limit)) {\r\n      this.refresh();\r\n    }\r\n  }\r\n  select(item) {\r\n    this.selected = item;\r\n    if (item) {\r\n      item.selected ? this.selectedCount++ : this.selectedCount--;\r\n      this.allSelected = this.selectedCount === this.items.length;\r\n    } else {\r\n      this.items.forEach(thisitem => thisitem.selected = this.allSelected);\r\n      this.selectedCount = this.allSelected ? this.items.length : 0;\r\n    }\r\n    this.selectionChange.emit(this.selectedCount);\r\n  }\r\n  // change(item, field) {\r\n  //   let newField = 'new_' + field;\r\n  //   if (item[field] === item[newField]) {\r\n  //     return;\r\n  //   }\r\n  //   let data = {};\r\n  //   data[field] = item[newField];\r\n  //   this.db.set(this.config.table, item._id, data).subscribe(res => res.ok && (item[field] = item[newField]));\r\n  // }\r\n  sort(field: any) {\r\n    if (this.sortField && this.sortField.name === field.name) {\r\n      this.sortInverse = !this.sortInverse;\r\n    } else {\r\n      this.sortField = field;\r\n      this.sortInverse = true;\r\n    }\r\n    this.data.sort((a, b) => (this.sortField.read(a) === this.sortField.read(b)) ? 0 : ((((this.sortField.read(a) < this.sortField.read(b)) && this.sortInverse) || ((this.sortField.read(a) > this.sortField.read(b)) && !this.sortInverse)) ? 1 : -1));\r\n    this.refresh();\r\n  }\r\n\r\n  doDelete(item: any): Subject<any>|boolean {\r\n    for (let i = this.data.length - 1; i >= 0; i--) {\r\n      if (item ? this.data[i]._id === item._id : this.data[i].selected) {\r\n        this.data.splice(i, 1);\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  delete(item: any) {\r\n    if (!item && this.selectedCount === 1) {\r\n      this.items.some(listItem => listItem.selected && (item = listItem));\r\n    }\r\n    let message = item ? this.config.main.read(item) : this.selectedCount + ' item' + (this.selectedCount > 1 ? 's' : '');\r\n    this.dialog.modal().confirm('Are you sure you want to delete ' + message + '?').subscribe(ok => {\r\n      if (ok) {\r\n        let obs = this.doDelete(item);\r\n        if (obs === true) {\r\n          this.refresh();\r\n        } {\r\n          (<Observable<any>>obs).subscribe(() => {\r\n            this.refresh();\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  doEdit(isNew: boolean, res: any, row?: any): Observable<any>|boolean {\r\n    if (isNew) {\r\n      let obs = this.config.createID(res)\r\n      if (obs === true) {\r\n        this.data.push(res);\r\n        return;\r\n      } else {\r\n        (<Observable<any>>obs).subscribe((res) => {\r\n          this.data.push(res);\r\n          result.next();\r\n        });\r\n      }\r\n    } else {\r\n      objectAssign(row, res);\r\n      return;\r\n    }\r\n    let result = new Subject<any>();\r\n    return result;\r\n  }\r\n  edit(row?: any) {\r\n    let isNew = !(row && row._id);\r\n    this.dialog.use(this.config.edit || this.defaultEdit, {columns: this.config.columns, row}, true).subscribe(res => {\r\n      let obs = this.doEdit(isNew, res, row);\r\n      if (obs === true) {\r\n        this.refresh();\r\n      } else {\r\n        (<Observable<any>>obs).subscribe(() => {\r\n          this.refresh();\r\n        });\r\n      };\r\n    });\r\n  }\r\n  click(row: any, column: any) {\r\n    // console.log('clicked', column);\r\n    if (column.editOnClick) {\r\n      this.edit(row);\r\n    }\r\n    if (column.click) {\r\n      column.click(row, column);\r\n    }\r\n  }\r\n}\r\n\r\n@Component({\r\n  template,\r\n  selector: 'md-data-table',\r\n  animations: [ animFade('fade'), animFadeProperty('search', 'true', 'false') ],\r\n  // styleUrls: ['./table.component.scss']\r\n})\r\nexport class DataTableComponent extends TableComponent {\r\n  @Input() model: ModelClient<any>;\r\n  constructor(nav: NavigatorService, dialog: DialogService) {\r\n    super(nav, dialog);\r\n  }\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n    this.model.check().subscribe(() => this.refresh());\r\n  }\r\n  refresh(res?) {\r\n    let config: any = {\r\n      limit: this.pager.limit,\r\n      skip: this.pager.current * this.pager.limit\r\n    };\r\n    let conditions = {};\r\n    if (this.sortField) {\r\n      config.sort = (this.sortInverse ? '-' : '') + (this.sortField.sort === true ? this.sortField.name : this.sortField.sort);\r\n    }\r\n    if (this.searchValue) {\r\n      conditions[this.config.main.name] = { $regex: this.searchValue, $options: 'i' };\r\n    }\r\n    this.model.find(conditions, null, config).subscribe(res => {\r\n      this.items = res.rows;;\r\n      // this.edit(); ///\r\n      // this.edit(this.items[0]); ///\r\n      this.selectedCount = this.items.filter(item => item.selected).length;\r\n      this.allSelected = !!this.items.length && this.selectedCount === this.items.length;\r\n      this.pager.setCount(res.total);\r\n    });\r\n  }\r\n  doDelete(item: any): Subject<any>|boolean {\r\n    let result = new Subject<any>();\r\n    if (item && item._id) {\r\n      this.model.remove(item._id).subscribe(() => result.next());\r\n    } else {\r\n      let i = this.items.length;\r\n      let deleteNext = function() {};\r\n      while (i > 0) {\r\n        i--;\r\n        if (this.items[i].selected) {\r\n          this.model.remove(this.items[i]._id).subscribe(() => i > 0 ? deleteNext() : result.next());\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  doEdit(isNew: boolean, res: any, row?: any):Subject<any>|boolean {\r\n    let result = new Subject<any>();\r\n    if (isNew) {\r\n      this.model.create(res).subscribe(() => result.next());\r\n    } else {\r\n      this.model.set(row._id, res).subscribe(() => result.next());\r\n    }\r\n    return result;\r\n  }\r\n}\r\n"]}